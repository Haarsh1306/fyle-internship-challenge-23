<div *ngIf="isLoading; else dataSection">
  <div class="animate-pulse flex flex-col items-center justify-center mt-14 ">
    <!-- Profile -->
    <div class="flex items-center">
      <div class=" rounded-full bg-slate-700 h-44 w-44"></div>
      <div class="flex-1 space-y-6 py-1 ml-6">
        <div class="h-6 bg-slate-700 rounded-lg"></div>
        <div class="space-y-3 w-40">
          <div class="h-2 bg-slate-700 rounded"></div>
          <div class="grid grid-cols-3 gap-4">
            <div class="h-2 bg-slate-700 rounded col-span-2"></div>
            <div class="h-2 bg-slate-700 rounded col-span-1"></div>
          </div>
          <div class="h-2 bg-slate-700 rounded"></div>
          <div class="h-2 bg-slate-700 rounded"></div>
          <div class="h-2 bg-slate-700 rounded"></div>

        </div>
      </div>
    </div>
    <!-- Repo -->
    <div class="grid grid-cols-2 gap-x-40 gap-y-12 mt-12">
      <div class="flex-1 space-y-6 py-1">
        <div class="h-6 bg-slate-700 rounded-lg"></div>
        <div class="space-y-3 w-40">
          <div class="h-2 bg-slate-700 rounded"></div>
          <div class="grid grid-cols-3 gap-4">
            <div class="h-2 bg-slate-700 rounded col-span-2"></div>
            <div class="h-2 bg-slate-700 rounded col-span-1"></div>
          </div>
          <div class="h-2 bg-slate-700 rounded"></div>
          <div class="h-2 bg-slate-700 rounded"></div>
        </div>
      </div>
      <div class="flex-1 space-y-6 py-1">
        <div class="h-6 bg-slate-700 rounded-lg"></div>
        <div class="space-y-3 w-40">
          <div class="h-2 bg-slate-700 rounded"></div>
          <div class="grid grid-cols-3 gap-4">
            <div class="h-2 bg-slate-700 rounded col-span-2"></div>
            <div class="h-2 bg-slate-700 rounded col-span-1"></div>
          </div>
          <div class="h-2 bg-slate-700 rounded"></div>
          <div class="h-2 bg-slate-700 rounded"></div>
        </div>
      </div>
      <div class="flex-1 space-y-6 py-1">
        <div class="h-6 bg-slate-700 rounded-lg"></div>
        <div class="space-y-3 w-40">
          <div class="h-2 bg-slate-700 rounded"></div>
          <div class="grid grid-cols-3 gap-4">
            <div class="h-2 bg-slate-700 rounded col-span-2"></div>
            <div class="h-2 bg-slate-700 rounded col-span-1"></div>
          </div>
          <div class="h-2 bg-slate-700 rounded"></div>
          <div class="h-2 bg-slate-700 rounded"></div>
        </div>
      </div>
      <div class="flex-1 space-y-6 py-1">
        <div class="h-6 bg-slate-700 rounded-lg"></div>
        <div class="space-y-3 w-40">
          <div class="h-2 bg-slate-700 rounded"></div>
          <div class="grid grid-cols-3 gap-4">
            <div class="h-2 bg-slate-700 rounded col-span-2"></div>
            <div class="h-2 bg-slate-700 rounded col-span-1"></div>
          </div>
          <div class="h-2 bg-slate-700 rounded"></div>
          <div class="h-2 bg-slate-700 rounded"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #dataSection class="">
  <div class="flex flex-col p-10 justify-center items-center ">
    <div class="flex mt-14 items-center">
      <div class="rounded-full h-44 w-44 flex-shrink-0 overflow-hidden">
        <img [src]="avatarUrl" alt="User Avatar" class="object-cover h-full w-full">
      </div>
      <div class="ml-6">
        <h2 class="text-3xl font-montserrat font-semibold">{{userName}}</h2>
        <p class="text-xl font-montserrat">{{userBio}}</p>

        <div class="flex items-center">
          <svg class="inline mr-2" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 384 512">
            <style>
              svg {
                fill: #000000;
              }
            </style>
            <path
              d="M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z" />
          </svg>
          <p *ngIf="userLocation" class="text-xl font-montserrat">{{userLocation}}</p>
          <p *ngIf="!userLocation" class="text-xl font-montserrat">Not Available</p>
        </div>
        <a *ngIf="userTwitterAvailable" class="text-xl font-montserrat block"
          href="https://twitter.com/{{userTwitter}}">Twitter:
          https://twitter.com/{{userTwitter}}</a>

        <p *ngIf="!userTwitterAvailable" class="text-xl font-montserrat">Twitter : Not Available</p>
        <p class="text-xl font-montserrat">
          Total Public Repo Available - {{totalPublicRepo}}
        </p>
        <a class="text-xl font-montserrat" href="https://github.com/{{profileName}}">&#x27A2; Github</a>
      </div>
    </div>

    <!-- For repos -->
    <div class="grid grid-cols-2 gap-x-20 gap-y-12 mt-12">
      <div *ngFor="let item of pagedUserRepoData; index as i"
        class="max-w-sm bg-white shadow-md rounded-lg overflow-hidden">
        <div class="p-4">
          <h2 class="text-xl font-montserrat font-semibold">{{item['name']}}</h2>
          <p *ngIf="item['description']" class="text-gray-700 font-montserrat mt-2">{{item['description']}}</p>
          <p *ngIf="!item['description']" class="text-gray-700 font-montserrat mt-2">No Description Available</p>
        </div>
        <div class="p-4">
          <div class="flex flex-wrap -m-1">
            <span *ngIf="!item['topics'] || item['topics'].length === 0"
              class="m-1 bg-blue-500 text-white px-2 font-montserrat py-1 rounded text-xs">No Topic Given</span>
            <span *ngFor="let topic of item['topics']"
              class="m-1 bg-blue-500 text-white px-2 font-montserrat py-1 rounded text-xs">{{topic}}</span>
          </div>
        </div>
      </div>
    </div>
    <!-- Pagination -->

    <div class="mt-12 flex flex-col justify-center items-center">
      <div class="flex items-center justify-center">
        <p class=" block text-xl font-montserrat">Repos set to {{pageSize}} per page</p>
        <button class="bg-blue-500 mx-4 text-white font-montserrat px-4 py-2 rounded"
          (click)="changePageSize()">Change</button>
      </div>
      <div *ngIf="popUp" class="mt-6 flex flex-col items-center justify-center">
        <p class="text-xl font-montserrat">Choose between 10-100</p>
        <input type="range" min="10" max="100" [(ngModel)]="userPageSize" class="w-64" />
        <p class="text-xl font-montserrat">Selected Value : {{userPageSize}} Click on change again to save</p>
      </div>
      <div class="mt-6 flex justify-center items-center">
        <button class="bg-blue-500 text-white font-montserrat px-4 py-2 rounded" [disabled]="currentPage === 1"
          (click)="setPage(currentPage - 1)">Previous</button>
        <span class="mx-6 text-xl font-montserrat font-semibold">{{currentPage}}</span>
        <button class="bg-blue-500 text-white font-montserrat px-4 py-2 rounded" [disabled]="currentPage === totalPages"
          (click)="setPage(currentPage + 1)">Next</button>
      </div>
    </div>
  </div>
</ng-template>